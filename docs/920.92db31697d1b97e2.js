"use strict";(self.webpackChunkangular_bill=self.webpackChunkangular_bill||[]).push([[920],{9920:(q,c,s)=>{s.r(c),s.d(c,{BillModule:()=>P});var m=s(6895),u=s(7506),C=s(3256),r=s(433),t=s(8256),d=s(529),g=s(2340),h=s(262),_=s(2843);let f=(()=>{class e{constructor(n){this.http=n}getBills(n){const o=g.N.apiUrl+"bills/"+n,l=new d.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"});return this.http.get(o,{headers:l}).pipe((0,h.K)(this.handleHttpError))}saveBill(n){const o=g.N.apiUrl+"bill",l=new d.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"});return this.http.post(o,n,{headers:l}).pipe((0,h.K)(this.handleHttpError))}handleHttpError(n){return n.error instanceof ErrorEvent?console.error("An error occurred:",n.error.message):n.status&&n.error?console.error(`Backend returned code ${n.status}, body was: ${n.error}`):console.error(n),(0,_._)("Something bad happened; please try again later.")}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(d.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Z=function(e){return{red:e}},x=function(e){return{none:e}};function y(e,i){if(1&e&&(t.TgZ(0,"div")(1,"div",8)(2,"div",9)(3,"span",10),t._uU(4),t.qZA(),t._UZ(5,"br"),t._uU(6),t.qZA(),t.TgZ(7,"div",11)(8,"b",12)(9,"span",12),t._uU(10,"-"),t.qZA(),t._uU(11),t.qZA()()()()),2&e){const n=i.$implicit;t.xp6(4),t.Oqu(n.date_bill),t.xp6(2),t.hij(" ",n.observation," "),t.xp6(2),t.Q6J("ngClass",t.VKq(5,Z,n.type>1)),t.xp6(1),t.Q6J("ngClass",t.VKq(7,x,n.type<2)),t.xp6(2),t.hij(" $ ",n.value,"")}}const B=function(){return["/bill/new/"]},U=function(e){return{username:e}},M=function(){return["/"]};function A(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,"Formato no v\xe1lido"),t.qZA())}const b='.column[_ngcontent-%COMP%]{float:left;width:50%;vertical-align:middle}.row[_ngcontent-%COMP%]{content:"";display:table;clear:both;overflow:hidden;width:100%;border-bottom:1px solid #e1e1e1;padding:10px}.right[_ngcontent-%COMP%]{text-align:right}.top15[_ngcontent-%COMP%]{margin-top:15px}.red[_ngcontent-%COMP%]{color:red}.none[_ngcontent-%COMP%]{display:none}.font10[_ngcontent-%COMP%]{font-size:11px;color:#333}.buttom_div[_ngcontent-%COMP%]{text-align:center;display:block;margin-top:25px}.buttom[_ngcontent-%COMP%], .main_button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#8a2be2;color:#e1e1e1;padding:10px 15px;text-decoration:none;border-radius:3px}.main_button[_ngcontent-%COMP%]{padding:10px 15px;text-align:center}.main_button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;cursor:pointer}.back[_ngcontent-%COMP%]{background-color:#d1d1d1;color:#333;padding:10px 25px;text-decoration:none;border-radius:3px;margin-left:15px}.input_error[_ngcontent-%COMP%]{border:1px solid red!important}.login_form[_ngcontent-%COMP%]{text-align:left}.user_login[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px 5px;width:100%;margin-top:3px}.radio[_ngcontent-%COMP%]{padding:8px 0;width:100%}';let v=(()=>{class e{constructor(n,o,l){this.router=n,this.route=o,this.billService=l,this.username="",this.bills=[]}ngOnInit(){this.route.params.subscribe(n=>{this.username=n.username,this.list()})}list(){this.billService.getBills(this.username).subscribe(n=>{this.bills=n})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.F0),t.Y36(u.gz),t.Y36(f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-bill"]],decls:14,vars:9,consts:[[1,"header",2,"margin-left","10px"],[2,"margin-top","15px","margin-bottom","15px","margin-left","10px"],[2,"margin-left","10px"],["id","invoice-items-details",1,"pt-2"],[4,"ngFor","ngForOf"],[1,"buttom_div"],["href","",1,"buttom",3,"routerLink","queryParams"],["href","",1,"buttom","back",3,"routerLink"],[1,"row"],[1,"column"],[1,"font10"],[1,"column","right","top15"],[3,"ngClass"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"Bill List"),t.qZA()(),t.TgZ(3,"div",1),t._uU(4),t.qZA(),t._UZ(5,"hr",2),t.TgZ(6,"div",3)(7,"div"),t.YNc(8,y,12,9,"div",4),t.TgZ(9,"div",5)(10,"a",6),t._uU(11,"Registrar"),t.qZA(),t.TgZ(12,"a",7),t._uU(13,"Salir"),t.qZA()()()()),2&n&&(t.xp6(4),t.hij(" Listado de bill del usuario: ",o.username,"\n"),t.xp6(4),t.Q6J("ngForOf",o.bills),t.xp6(2),t.Q6J("routerLink",t.DdM(5,B))("queryParams",t.VKq(6,U,o.username)),t.xp6(2),t.Q6J("routerLink",t.DdM(8,M)))},dependencies:[m.mk,m.sg,u.yS],styles:[b]}),e})();const O=[{path:"",component:v},{path:"list/:username",component:v},{path:"new",component:(()=>{class e{constructor(n,o,l,a){this.router=n,this.route=o,this.billService=l,this.formBuilder=a,this.username="",this.form=this.formBuilder.group({description:["",[r.kI.required]],type:["",[r.kI.required]],value:["",[r.kI.required,r.kI.pattern("^[0-9]+(.[0-9]{0,2})?$")]]}),this.malFormato=!1,this.bill=new C.n(0,"",0,0,0,""),this.route.queryParams.subscribe(p=>{this.username=p.username})}ngOnInit(){}validate(n){this.malFormato=!1,n.preventDefault(),this.form.valid?(this.bill.observation=this.form.value.description,this.bill.value=this.form.value.value,this.bill.user_id=1,this.bill.type=this.form.value.type,this.billService.saveBill(this.bill).subscribe(o=>{this.router.navigate(["/bill/list/"+this.username])})):(this.form.markAllAsTouched(),this.malFormato=!0)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.F0),t.Y36(u.gz),t.Y36(f),t.Y36(r.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-bill"]],decls:36,vars:6,consts:[[1,"header",2,"margin-left","10px"],[2,"margin-top","15px","margin-bottom","15px","margin-left","10px"],[2,"margin-left","10px"],["id","invoice-items-details",1,"pt-2"],[1,"login_form",3,"formGroup","ngSubmit"],["formControlName","description","maxlength","200",1,"user_login",3,"ngClass"],["description",""],[1,"radio",3,"ngClass"],["type","radio","value","1","formControlName","type"],["type","radio","value","2","formControlName","type"],["formControlName","value","maxlength","15",1,"user_login",3,"ngClass"],["value",""],[4,"ngIf"],[1,"main_button"],["type","submit"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"Bill Add"),t.qZA()(),t.TgZ(3,"div",1),t._uU(4),t.qZA(),t._UZ(5,"hr",2),t.TgZ(6,"div",3)(7,"div")(8,"form",4),t.NdJ("ngSubmit",function(a){return o.validate(a)}),t._UZ(9,"br"),t.TgZ(10,"b"),t._uU(11,"Descripci\xf3n"),t.qZA(),t._UZ(12,"input",5,6)(14,"br")(15,"br"),t.TgZ(16,"b"),t._uU(17,"Tipo de movimiento"),t.qZA(),t._UZ(18,"br")(19,"br"),t.TgZ(20,"div",7),t._UZ(21,"input",8),t.TgZ(22,"span"),t._uU(23,"Ingreso"),t.qZA(),t._UZ(24,"input",9),t.TgZ(25,"span"),t._uU(26,"Gasto"),t.qZA()(),t._UZ(27,"br"),t.TgZ(28,"b"),t._uU(29,"Valor"),t.qZA(),t._UZ(30,"input",10,11),t.YNc(32,A,2,0,"span",12),t.TgZ(33,"div",13)(34,"button",14),t._uU(35,"Registrar"),t.qZA()()()()()),2&n){let l,a,p;t.xp6(4),t.hij(" Registrar Nuevo Movimiento: ",o.username,"\n"),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(4),t.Q6J("ngClass",null!=o.form&&null!=(l=o.form.get("description"))&&l.hasError("required")&&null!=o.form&&null!=(l=o.form.get("description"))&&l.touched?"input_error":""),t.xp6(8),t.Q6J("ngClass",null!=o.form&&null!=(a=o.form.get("type"))&&a.hasError("required")&&null!=o.form&&null!=(a=o.form.get("type"))&&a.touched?"input_error":""),t.xp6(10),t.Q6J("ngClass",null!=o.form&&null!=(p=o.form.get("value"))&&p.hasError("required")&&null!=o.form&&null!=(p=o.form.get("value"))&&p.touched?"input_error":""),t.xp6(2),t.Q6J("ngIf",o.malFormato)}},dependencies:[m.mk,m.O5,r._Y,r.Fj,r._,r.JJ,r.JL,r.nD,r.sg,r.u],styles:[b]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(O),u.Bz]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,T,r.UX]}),e})()}}]);