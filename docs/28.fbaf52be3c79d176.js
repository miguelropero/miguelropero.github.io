"use strict";(self.webpackChunkangular_bill=self.webpackChunkangular_bill||[]).push([[28],{7028:(L,m,r)=>{r.r(m),r.d(m,{LoginModule:()=>x});var g=r(6895),u=r(7506),i=r(433),p=r(3256),n=r(8256),d=r(529),c=r(2340),f=r(262),h=r(2843);let v=(()=>{class o{constructor(t){this.http=t}login(t){const e=c.N.apiUrl+"login",s=new d.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"});return this.http.post(e,t,{headers:s}).pipe((0,f.K)(this.handleHttpError))}handleHttpError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):t.status&&t.error?console.error(`Backend returned code ${t.status}, body was: ${t.error}`):console.error(t),(0,h._)("Something bad happened; please try again later.")}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(d.eN))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function C(o,l){1&o&&(n.TgZ(0,"span"),n._uU(1,"Credenciales no v\xe1lidas"),n.qZA())}const b=[{path:"",component:(()=>{class o{constructor(t,e,s,a){this.router=t,this.route=e,this.loginService=s,this.formBuilder=a,this.username="",this.form=this.formBuilder.group({username:["",[i.kI.required]],password:["",[i.kI.required]]}),this.malFormato=!1,this.user=new p.s(0,"","","0"),this.error=!1,this.route.queryParams.subscribe(O=>{this.username=O.username})}ngOnInit(){}validate(t){this.error=!1,this.malFormato=!1,t.preventDefault(),this.form.valid?(this.user.username=this.form.value.username,this.user.password=this.form.value.password,console.log("1236"),this.loginService.login(this.user).subscribe(e=>{e.id?this.router.navigate(["/bill/list/"+e.username]):this.error=!0})):(this.form.markAllAsTouched(),this.malFormato=!0)}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(u.F0),n.Y36(u.gz),n.Y36(v),n.Y36(i.qu))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],decls:25,vars:4,consts:[[1,"header",2,"margin-left","10px"],[2,"margin-top","15px","margin-bottom","15px","margin-left","10px"],[2,"margin-left","10px"],["id","invoice-items-details",1,"pt-2"],[1,"login_form",3,"formGroup","ngSubmit"],["formControlName","username","maxlength","30",1,"user_login",3,"ngClass"],["username",""],["formControlName","password","maxlength","30","type","password",1,"user_login",3,"ngClass"],["password",""],[2,"text-align","center","margin-top","5px","color","brown"],[4,"ngIf"],[1,"main_button"],["type","submit"]],template:function(t,e){if(1&t&&(n.TgZ(0,"div",0)(1,"b"),n._uU(2,"Bill Login"),n.qZA()(),n.TgZ(3,"div",1),n._uU(4," Bienvenido al sistema bill\n"),n.qZA(),n._UZ(5,"hr",2),n.TgZ(6,"div",3)(7,"div")(8,"form",4),n.NdJ("ngSubmit",function(a){return e.validate(a)}),n._UZ(9,"br"),n.TgZ(10,"b"),n._uU(11,"Usuario"),n.qZA(),n._UZ(12,"input",5,6)(14,"br")(15,"br"),n.TgZ(16,"b"),n._uU(17,"Password"),n.qZA(),n._UZ(18,"input",7,8),n.TgZ(20,"div",9),n.YNc(21,C,2,0,"span",10),n.qZA(),n.TgZ(22,"div",11)(23,"button",12),n._uU(24,"Ingresar"),n.qZA()()()()()),2&t){let s,a;n.xp6(8),n.Q6J("formGroup",e.form),n.xp6(4),n.Q6J("ngClass",null!=e.form&&null!=(s=e.form.get("username"))&&s.hasError("required")&&null!=e.form&&null!=(s=e.form.get("username"))&&s.touched?"input_error":""),n.xp6(6),n.Q6J("ngClass",null!=e.form&&null!=(a=e.form.get("password"))&&a.hasError("required")&&null!=e.form&&null!=(a=e.form.get("password"))&&a.touched?"input_error":""),n.xp6(3),n.Q6J("ngIf",e.error)}},dependencies:[g.mk,g.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u],styles:['.column[_ngcontent-%COMP%]{float:left;width:50%;vertical-align:middle}.row[_ngcontent-%COMP%]{content:"";display:table;clear:both;overflow:hidden;width:100%;border-bottom:1px solid #e1e1e1;padding:10px}.right[_ngcontent-%COMP%]{text-align:right}.top15[_ngcontent-%COMP%]{margin-top:15px}.red[_ngcontent-%COMP%]{color:red}.none[_ngcontent-%COMP%]{display:none}.font10[_ngcontent-%COMP%]{font-size:11px;color:#333}.buttom_div[_ngcontent-%COMP%]{text-align:center;display:block;margin-top:25px}.buttom[_ngcontent-%COMP%], .main_button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#8a2be2;color:#e1e1e1;padding:10px 15px;text-decoration:none;border-radius:3px}.main_button[_ngcontent-%COMP%]{padding:10px 15px;text-align:center}.main_button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;cursor:pointer}.input_error[_ngcontent-%COMP%]{border:1px solid red!important}.login_form[_ngcontent-%COMP%]{text-align:left}.user_login[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px 5px;width:100%;margin-top:3px}.radio[_ngcontent-%COMP%]{padding:8px 0;width:100%}']}),o})()}];let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[u.Bz.forChild(b),u.Bz]}),o})(),x=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[g.ez,M,i.UX]}),o})()}}]);